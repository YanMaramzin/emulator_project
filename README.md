# Radio Device Emulator (C++ / Qt, Plugin Architecture)

**–≠–º—É–ª—è—Ç–æ—Ä —Ä–∞–¥–∏–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å –ø–ª–∞–≥–∏–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π** ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ü–û, –∫–æ—Ç–æ—Ä–æ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ä–∞–¥–∏–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.

–ü—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ –ø–ª–∞–≥–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏ –ø–æ —Å–µ—Ç–∏ –∏–ª–∏ —á–µ—Ä–µ–∑ —à–∏–Ω—É —Å–æ–±—ã—Ç–∏–π, –∏–º–∏—Ç–∏—Ä—É—è –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∂–µ–ª–µ–∑–∞.

---

## üîπ User Story

**–ö–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ü–û –¥–ª—è —Ä–∞–¥–∏–æ—Å–∏—Å—Ç–µ–º**, —è —Ö–æ—á—É –∑–∞–ø—É—Å–∫–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ, —á—Ç–æ–±—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –º–æ–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.

**–°—Ü–µ–Ω–∞—Ä–∏–π:**

* –£ –º–µ–Ω—è –µ—Å—Ç—å —ç–º—É–ª—è—Ç–æ—Ä-–ø–µ—Ä–µ–¥–∞—Ç—á–∏–∫ `TestTransmitter` –∏ —ç–º—É–ª—è—Ç–æ—Ä-–ø—Ä–∏—ë–º–Ω–∏–∫ `TestReceiver`.
* –Ø —Ö–æ—á—É, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–ª –ø–∞–∫–µ—Ç—ã –∫–∞–∂–¥—ã–µ 200 –º—Å, –∞ –ø—Ä–∏—ë–º–Ω–∏–∫ –ª–æ–≥–∏—Ä–æ–≤–∞–ª –∏—Ö –ø–æ–ª—É—á–µ–Ω–∏–µ.
* –Ø —Ö–æ—á—É –≤–∏–¥–µ—Ç—å –ª–æ–≥ —Å–æ–±—ã—Ç–∏–π –≤ –∫–æ–Ω—Å–æ–ª–∏.

---

## üõ† –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É

### 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º –∏ —Å–æ–±–∏—Ä–∞–µ–º –ø—Ä–æ–µ–∫—Ç

```bash
git clone https://github.com/YanMaramzin/emulator_project.git
cd emulator_project
mkdir build && cd build
cmake ..
cmake --build . --config Release
```

### 2. –°–æ–∑–¥–∞—ë–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `config.json`

```json
{
  "devices": [
    {
      "id": "tx1",
      "plugin": "TestTransmitter",
      "params": {
        "interval_ms": 200
      }
    },
    {
      "id": "rx1",
      "plugin": "TestReceiver",
      "params": {}
    }
  ]
}
```

### 3. –ó–∞–ø—É—Å–∫ —ç–º—É–ª—è—Ç–æ—Ä–∞

```bash
./radio-emulator config.json
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

* –Ø–¥—Ä–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–ª–∞–≥–∏–Ω—ã —á–µ—Ä–µ–∑ `PluginManager`.
* –°–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã `DeviceInstance` —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º `DeviceContext`.
* –î–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –≤ `SimulatorEngine`.
* –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ü–∏–∫–ª —Å–∏–º—É–ª—è—Ü–∏–∏.

### 4. –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª–∏:

```
[INFO] Device tx1 started
[INFO] Device rx1 started
[INFO] rx1: Received: Hello World
[INFO] tx1 sent: Hello World
[INFO] rx1: Received: Hello World
```

> –ü–µ—Ä–µ–¥–∞—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–µ 200 –º—Å, –ø—Ä–∏—ë–º–Ω–∏–∫ –ª–æ–≥–∏—Ä—É–µ—Ç –∏—Ö.

---

## üß© –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (User Story)

**–ö–∞–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫**, —è —Ö–æ—á—É –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø–ª–∞–≥–∏–Ω-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, —á—Ç–æ–±—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

1. –†–µ–∞–ª–∏–∑—É—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IDeviceEmulator`.
2. –ö–æ–º–ø–∏–ª–∏—Ä—É—é –∫–∞–∫ `.so` –∏–ª–∏ `.dll`.
3. –î–æ–±–∞–≤–ª—è—é –≤ `config.json`.
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é —è–¥—Ä–æ ‚Äî —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è.

–ü—Ä–∏–º–µ—Ä –ø–ª–∞–≥–∏–Ω–∞ `TestReceiver`:

```cpp
class TestReceiver : public QObject, public IDeviceEmulator {
    Q_OBJECT
    Q_PLUGIN_METADATA(IID IDeviceEmulator_iid)
    Q_INTERFACES(IDeviceEmulator)

public:
    QString type() const override { return "TestReceiver"; }
    void init(const DeviceConfig &, DeviceContext *ctx) override { context = ctx; }
    void start() override {}
    void stop() override {}
    void update(std::chrono::milliseconds) override {}
    void onDataReceived(const QByteArray &data) override {
        context->log("Received: " + data);
    }

private:
    DeviceContext *context = nullptr;
};
```

---

## ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
* –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö, –∑–∞–¥–µ—Ä–∂–µ–∫ –∏ —à—É–º–æ–≤
* –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
* –û–±—É—á–µ–Ω–∏–µ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Ä–∞–¥–∏–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
emulator_project/
‚îú‚îÄ app/                # –ì–ª–∞–≤–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª
‚îú‚îÄ core/               # SimulatorEngine, DeviceInstance, PluginManager
‚îú‚îÄ plugins/            # –ü–ª–∞–≥–∏–Ω—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (TestReceiver, TestTransmitter)
‚îú‚îÄ include/            # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (IDeviceEmulator, DeviceConfig)
‚îú‚îÄ CMakeLists.txt
‚îî‚îÄ config.json
```
